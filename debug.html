<!DOCTYPE html>
<html>
<head>
    <title>Debug LocalStorage</title>
</head>
<body>
    <h1>üîß Debug –ø–∞–Ω–µ–ª—å</h1>
    
    <button onclick="testLocalStorage()">–¢–µ—Å—Ç LocalStorage</button>
    <button onclick="clearAll()">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
    <button onclick="createTestUser()">–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
    
    <div id="output" style="margin-top: 20px; padding: 10px; background: #f0f0f0;"></div>
    
    <script>
        function testLocalStorage() {
            const output = document.getElementById('output');
            let html = '<h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞:</h3>';
            
            // –¢–µ—Å—Ç –∑–∞–ø–∏—Å–∏
            try {
                localStorage.setItem('test', 'works');
                html += '<p>‚úÖ –ó–∞–ø–∏—Å—å –≤ localStorage: –†–ê–ë–û–¢–ê–ï–¢</p>';
            } catch (e) {
                html += `<p>‚ùå –ó–∞–ø–∏—Å—å –≤ localStorage: –ù–ï –†–ê–ë–û–¢–ê–ï–¢ (${e})</p>`;
            }
            
            // –¢–µ—Å—Ç —á—Ç–µ–Ω–∏—è
            try {
                const testValue = localStorage.getItem('test');
                html += `<p>‚úÖ –ß—Ç–µ–Ω–∏–µ –∏–∑ localStorage: ${testValue}</p>`;
            } catch (e) {
                html += `<p>‚ùå –ß—Ç–µ–Ω–∏–µ –∏–∑ localStorage: –ù–ï –†–ê–ë–û–¢–ê–ï–¢ (${e})</p>`;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            try {
                const user = localStorage.getItem('user');
                html += `<p>üì¶ –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${user || '–ù–ï–¢'}</p>`;
            } catch (e) {
                html += `<p>‚ùå –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ${e}</p>`;
            }
            
            output.innerHTML = html;
        }
        
        function clearAll() {
            localStorage.clear();
            sessionStorage.clear();
            document.getElementById('output').innerHTML = '<p>üßπ –í—Å–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –æ—á–∏—â–µ–Ω—ã</p>';
        }
        
        function createTestUser() {
            const testUser = {
                name: "TestUser",
                email: "test@test.ru", 
                loggedIn: true,
                balance: 5000,
                bonuses: 300
            };
            
            localStorage.setItem('user', JSON.stringify(testUser));
            document.getElementById('output').innerHTML = '<p>‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω!</p>';
        }
        
        // –ê–≤—Ç–æ-—Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        testLocalStorage();
    </script>
</body>
</html>